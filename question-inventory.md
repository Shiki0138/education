# 問題データベース現状分析

## 📊 ストック済み問題数

### 静的問題データ（exam-data.js）
- **漢字問題**: 7問
  - 読み問題: 3問（卓越、逸話、謙遜）
  - 書き問題: 2問（合格、研究）
  - 四字熟語: 2問（一石二鳥、切磋琢磨）

- **読解問題**: 2セット
  - 論説文: 1問（環境問題テーマ、800字）
  - 物語文: 1問（転校生テーマ、400字）

- **文法・敬語問題**: 5問
  - 敬語: 2問（尊敬語・謙譲語）
  - 文法: 3問（接続詞、可能動詞、主語特定）

- **語彙・慣用句問題**: 4問
  - ことわざ: 2問（猿も木から落ちる、急がば回れ）
  - 慣用句: 2問（頭が下がる、腕を上げる）

**合計: 18問のベース問題**

## 🤖 自動生成システム

### 現在の実装状況
**APIなしで動作する問題生成**:
- ハードコードされた問題プールから選択
- 学習データに基づく難易度調整
- ランダム選択による問題バリエーション

### 各カテゴリの生成問題数

#### 1. AI漢字問題（enhanced-app.js）
```javascript
// generateKanjiProblem() 内
const problems = [
    "協調", "模索" // 2パターン
];
```
**→ 2問の追加生成**

#### 2. AI読解問題
```javascript
// generateReadingProblem() 内
const problem = {
    passage: "人工知能（AI）の発達により...", // 1パターン
};
```
**→ 1問の追加生成**

#### 3. AI文法問題
```javascript
// generateGrammarProblem() 内
const problems = [
    "お客様がお見えになりました" // 1パターン
];
```
**→ 1問の追加生成**

#### 4. 記述問題（writingSystem）
```javascript
this.questions = [
    { // 環境問題（40字）
        question: "環境問題を解決するために...",
    },
    { // 読書の良さ（50字）
        question: "読書の良さについて...",
    }
];
```
**→ 2問の記述問題**

## 📈 実際の問題総数

### 利用可能問題数
- **ベース問題**: 18問
- **AI生成追加**: 6問
- **記述問題**: 2問
- **総計**: **26問**

### カテゴリ別内訳
| カテゴリ | ベース | AI生成 | 合計 |
|---------|--------|--------|------|
| 漢字 | 7問 | 2問 | 9問 |
| 読解 | 2問 | 1問 | 3問 |
| 文法 | 5問 | 1問 | 6問 |
| 語彙 | 4問 | 0問 | 4問 |
| 記述 | 0問 | 2問 | 2問 |

## 🔄 問題選択アルゴリズム

### 1. 基本練習モード
- ベース問題をローテーション
- 10問セット（同じ問題が重複する場合あり）

### 2. AI個人最適化モード
- 学習データ分析 → 弱点特定
- 弱点分野の問題を優先選択
- AI生成問題 + ベース問題の組み合わせ

### 3. 語彙力強化モード
- `examIdiomData`から全4問を順次出題
- 完了後は最初から繰り返し

## ⚠️ 現在の制限事項

### 問題数の限界
- **漢字**: 実質9問（繰り返し学習）
- **読解**: 3問のみ（不足）
- **記述**: 2問のみ（要拡充）

### API未実装による制限
- 真のAI生成機能は擬似実装
- 新問題の自動追加なし
- 学習進度に応じた動的問題調整なし

## 🚀 拡張の方向性

### 短期拡張（1-2週間）
1. **ベース問題を50問に拡充**
   - 漢字: 30問（小6配当漢字中心）
   - 読解: 10問（多様なジャンル）
   - 文法: 15問（受験頻出パターン）

2. **AI生成パターンを拡充**
   - 各カテゴリ5-10パターン
   - 難易度別テンプレート

### 中期拡張（1-2ヶ月）
1. **外部API連携**
   - OpenAI API（GPT-4）
   - Claude API
   - 無限問題生成

2. **過去問データベース連携**
   - 実際の入試問題パターン学習
   - 学校別出題傾向反映

## 📊 現在の学習効果

### 1日60分学習での問題消化
- **漢字**: 5-10分（3-5問）
- **読解**: 20-30分（1-2問） 
- **語彙**: 10-15分（3-5問）
- **記述**: 15-20分（1問）

**→ 現在の26問で約1週間分の学習内容**

### 継続学習への対応
- 問題のランダム選択
- 難易度調整による新鮮さ維持
- 弱点分析による個別最適化

---

**結論**: APIなしでも26問で基本的な学習は可能。ただし、長期継続には問題数拡充が必要。